<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS Playbook Assistant v2</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root{--p:#00A4BD;--pd:#008299;--pl:#E5F7FA;--s:#1B2A4E;--w:#F59E0B;--g50:#F9FAFB;--g100:#F3F4F6;--g200:#E5E7EB;--g500:#6B7280;--g700:#374151;--g900:#111827}
        *{box-sizing:border-box;margin:0;padding:0}body{font-family:'Inter',sans-serif;background:var(--g50);color:var(--g900);line-height:1.6}
        .hdr{background:linear-gradient(135deg,var(--s) 0%,#2d3e6d 100%);color:#fff;padding:1rem 2rem}.hdr-c{max-width:900px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem}
        .logo{font-size:1.5rem;font-weight:700;color:var(--p)}.logo span{color:#fff}.hdr h1{font-size:1.1rem;font-weight:500;opacity:.9}
        .nav-lnk{color:#fff;text-decoration:none;font-size:.9rem;opacity:.8}.nav-lnk:hover{opacity:1}.cnt{max-width:900px;margin:0 auto;padding:2rem}
        .tabs{display:flex;gap:.5rem;border-bottom:2px solid var(--g200);margin-bottom:1.5rem}.tab{padding:.75rem 1.5rem;border:none;background:none;font-size:1rem;font-weight:500;color:var(--g500);cursor:pointer;border-bottom:3px solid transparent;margin-bottom:-2px}.tab:hover{color:var(--g700)}.tab.active{color:var(--p);border-bottom-color:var(--p)}
        .tc{display:none}.tc.active{display:block}.card{background:#fff;border-radius:16px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 1px 3px rgba(0,0,0,.05)}.card h2{font-size:1.25rem;color:var(--s);margin-bottom:1rem}.card h3{font-size:1rem;color:var(--g700);margin:1.5rem 0 .75rem;font-weight:600}
        textarea{width:100%;padding:1rem;border:2px solid var(--g200);border-radius:10px;font-size:1rem;font-family:inherit;resize:none}textarea:focus{outline:none;border-color:var(--p)}
        .ctx-tog{color:var(--p);font-size:.9rem;background:none;border:none;cursor:pointer;margin-top:.75rem}.ctx-flds{display:none;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:1rem}.ctx-flds.show{display:grid}
        .ctx-fld label{display:block;font-size:.8rem;color:var(--g500);margin-bottom:.25rem}.ctx-fld input{width:100%;padding:.6rem;border:1px solid var(--g200);border-radius:6px;font-size:.9rem}
        .btn-p{width:100%;padding:1rem;background:var(--p);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;margin-top:1rem}.btn-p:hover{background:var(--pd)}
        .ex{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--g100)}.ex p{font-size:.85rem;color:var(--g500);margin-bottom:.5rem}.ex-btns{display:flex;flex-wrap:wrap;gap:.5rem}
        .ex-btn{background:var(--g100);border:none;padding:.5rem 1rem;border-radius:20px;font-size:.85rem;color:var(--g700);cursor:pointer}.ex-btn:hover{background:var(--g200)}
        #res{display:none}#res.show{display:block}.res-hdr{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;font-weight:600;color:var(--s);margin-bottom:1rem}.res-hdr span{color:var(--p)}
        .alrt{padding:1rem;border-radius:8px;margin-bottom:1rem}.alrt-w{background:#FEF3C7;border-left:4px solid var(--w)}.alrt-d{background:#FEE2E2;border-left:4px solid #DC2626}
        .alrt h4{margin-bottom:.5rem;font-size:.95rem}.alrt-w h4{color:#92400E}.alrt-d h4{color:#991B1B}.alrt p{font-size:.85rem;margin:.25rem 0}.alrt-w p{color:#78350F}.alrt-d p{color:#7F1D1D}
        .pol-sec{background:var(--g50);border-radius:10px;padding:1rem;margin-bottom:1rem;border-left:4px solid var(--p)}.pol-sec h4{color:var(--pd);font-size:.95rem;margin-bottom:.75rem;display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
        .pol-sec h4 a{color:var(--p);text-decoration:none;font-size:.8rem;margin-left:auto}.pol-sec h4 a:hover{text-decoration:underline}
        .stp-lst{list-style:none;padding:0;margin:0}.stp-lst li{display:flex;gap:.75rem;margin-bottom:.5rem;color:var(--g700);font-size:.9rem}
        .stp-n{flex-shrink:0;width:24px;height:24px;background:var(--pl);color:var(--pd);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600}.stp-n.sub{background:var(--g100);color:var(--g500);font-size:.7rem;width:20px;height:20px}
        .stp-t{padding-top:.15rem}.stp-t.sub{color:var(--g600);font-size:.85rem}
        .lnks{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--g100)}.lnks h4{color:var(--g700);margin-bottom:.75rem;font-size:.9rem}.lnks-g{display:flex;flex-wrap:wrap;gap:.5rem}
        .doc-lnk{background:var(--g100);color:var(--p);padding:.5rem 1rem;border-radius:6px;text-decoration:none;font-size:.85rem}.doc-lnk:hover{background:var(--g200)}
        .ref-g{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.ref-c{padding:1rem;border-radius:10px}.ref-c.cy{background:var(--pl)}.ref-c.am{background:#FEF3C7}.ref-c.pu{background:#F3E8FF}.ref-c.gr{background:#D1FAE5}
        .ref-c h4{font-size:.95rem;margin-bottom:.5rem}.ref-c.cy h4{color:var(--pd)}.ref-c.am h4{color:#92400E}.ref-c.pu h4{color:#6B21A8}.ref-c.gr h4{color:#065F46}
        .ref-c ul{list-style:none;padding:0;font-size:.85rem}.ref-c.cy li{color:#0E7490}.ref-c.am li{color:#78350F}.ref-c.pu li{color:#7C3AED}.ref-c.gr li{color:#047857}
        .pol-lst{margin-top:1.5rem}.pol-itm{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;background:var(--g50);border-radius:8px;margin-bottom:.5rem}.pol-itm:hover{background:var(--g100)}.pol-itm span{color:var(--g700)}.pol-itm a{color:var(--p);text-decoration:none;font-size:.9rem}
        @media(max-width:600px){.cnt{padding:1rem}.ctx-flds{grid-template-columns:1fr}}
    </style>
</head>
<body>
<header class="hdr"><div class="hdr-c"><div style="display:flex;align-items:center;gap:1rem"><div class="logo">Activ<span>Trak</span></div><h1>CS Playbook Assistant v2 <span style="font-size:0.7em;font-style:italic;font-weight:400;opacity:0.8">Last Updated: January 5, 2026</span></h1></div><a href="https://drive.google.com/drive/folders/1uYPgYhUVYcJbJ_ul9l1EoGbm3c7NBGRy" target="_blank" class="nav-lnk">üìÅ CX Playbook Drive ‚Üí</a></div></header>
<div class="cnt">
<div class="tabs"><button class="tab active" data-tab="assistant">ü§ñ Assistant</button><button class="tab" data-tab="reference">üìã Quick Reference</button></div>
<div id="assistant" class="tc active">
<div class="card"><h2>What's happening with your customer?</h2>
<textarea id="q" rows="3" placeholder="Describe your situation..."></textarea>
<button class="ctx-tog" id="ctxTog">+ Add context (ARR, impact, etc.)</button>
<div class="ctx-flds" id="ctxFlds"><div class="ctx-fld"><label>Account ARR ($)</label><input type="number" id="arr" placeholder="75000"></div><div class="ctx-fld"><label>ARR Impact ($)</label><input type="number" id="imp" placeholder="25000"></div><div class="ctx-fld"><label>Days to Renewal</label><input type="number" id="dtr" placeholder="90"></div></div>
<button class="btn-p" id="sub">Get Guidance</button>
<div class="ex"><p>Try an example:</p><div class="ex-btns"><button class="ex-btn">Customer dropping licenses</button><button class="ex-btn">Customer not responding</button><button class="ex-btn">Showed wrong account data</button><button class="ex-btn">Need to escalate</button><button class="ex-btn">What note type to use?</button><button class="ex-btn">Who is on-call?</button></div></div></div>
<div class="card" id="res"><div class="res-hdr"><span>‚úì</span> Recommended Actions</div><div id="out"></div></div>
</div>
<div id="reference" class="tc">
<div class="card"><h2>Key Thresholds</h2>
<div class="ref-g"><div class="ref-c cy"><h4>Contraction Approvals</h4><ul><li>‚Ä¢ &lt;$500: CSM approves</li><li>‚Ä¢ $500-$20K: Manager</li><li>‚Ä¢ &gt;$20K: VP of CS</li></ul></div><div class="ref-c am"><h4>Loss Notifications</h4><ul><li>‚Ä¢ &gt;$20K surprise: Slack Mel</li><li>‚Ä¢ ‚â•$50K material: Slack Gabriela + huddle</li></ul></div><div class="ref-c pu"><h4>Executive Escalation</h4><ul><li>‚Ä¢ &lt;$100K ARR: Mel</li><li>‚Ä¢ ‚â•$100K ARR: Gabriela</li></ul></div><div class="ref-c gr"><h4>Special Terms</h4><ul><li>‚Ä¢ Non-std billing: Manager</li><li>‚Ä¢ Remove auto-renewal: VP</li><li>‚Ä¢ M2M/TFC: CCO</li></ul></div></div>
<h3>Policy Documents</h3>
<div class="pol-lst">
<div class="pol-itm"><span>Escalation Policy</span><a href="https://docs.google.com/document/d/1b1QTddct0rHwCiGTEmwl0RmI6-KdKbVu6g_wHeMvtlk/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Contraction Approvals</span><a href="https://docs.google.com/document/d/13xqWkeNaZsAuwRpt4CdnvEe1sowXL7BVftOlwBhopp8/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Unresponsive Customer Policy</span><a href="https://docs.google.com/document/d/1LKi70A29cg7xC0WlQDosMgoPAgeq0sDCDlVJ5WF3ve0/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Data Incident SOP</span><a href="https://docs.google.com/document/d/1dWErWCTltQ4VV88OtdmymfE6SwQzfSEEtDif9FTahjQ/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>ChurnZero Notes Policy</span><a href="https://docs.google.com/document/d/1wVIOItiYG5yAFqjkKuf-vLuutL8S0l59PcGwhctnaAo/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Forecasting Expectations</span><a href="https://docs.google.com/document/d/182kBfnVt1FGLhIN6H17XZYeq9x00li5baNoQR8n3JWM/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Account Plan Expectations</span><a href="https://docs.google.com/document/d/1NLm5VgIgTtsNrfMNvKs5rCg0ZfYrh_vr0hJk0I3s0NU/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>AI Usage Policy</span><a href="https://docs.google.com/document/d/1MDEC3WHKz6DwmPUM-MGyW1vQ4EmfpyTy4p88TLugNJE/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Presentation Guidelines</span><a href="https://docs.google.com/document/d/1CwKOzkPqXJudraUs_n85CQci6DmT5zDVF6f-aF6L11Q/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>MSP Licensing Policy</span><a href="https://docs.google.com/document/d/1SIsPnGkMrXHn4aCq0Fd0JIa5_WcsbOLlhshWgIjMNp0/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Non-Payment Approach</span><a href="https://docs.google.com/document/d/1lZEXI8XcLMq5wnaO9add6f_xr3dDaPQiSzwtD0WdAu8/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>CS Leader On-Call Policy</span><a href="https://docs.google.com/document/d/1vZlhzTO4qXVyNuSxCpigr8yKONGp3ktDmNKuUvskfnY/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Cross-Functional Incidents</span><a href="https://docs.google.com/document/d/1AOkejfJWodE6IelwjVLEyrsg-8D9mbQBMKz8Ez2XHew/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Contact Role Definitions</span><a href="https://docs.google.com/document/d/1JuJJL8hokldD4eBJE33NdFRLQ_jUlE81jzWHghTpAC0/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Bulk Uplift Approach</span><a href="https://docs.google.com/document/d/1pGB39evnKazZfyq9V5RIikb-hIsb7f8IJICrGKhbAl8/edit" target="_blank">Open ‚Üí</a></div>
<div class="pol-itm"><span>Relationship Kickoff Procedure ($30K+)</span><a href="https://docs.google.com/document/d/1H-rHHPNdpF896iUGMBdoHEdyabSMoOuh-_vhB2k1ok0/edit?tab=t.0" target="_blank">Open ‚Üí</a></div>
</div></div></div></div>
<script>
const K={
ctr:['drop','dropping','dropped','reduce','reducing','reduced','reduction','contraction','downgrade','downgrading','licenses','licence','seats','users','agents','endpoints','fewer licenses','less licenses','fewer seats','less seats','remove licenses','remove seats','cancel','canceling','cancelling','canceled','cancelled','cancellation','terminate','terminating','termination','end contract','not renewing','wont renew','will not renew','losing','lose','lost','loss','churn','churning','churned','leaving','leave','walking','walk away','cut','cutting','decrease','decreasing','fewer','less','shrink','shrinking','downsizing','downsize','scale down','scaling down','trim','trimming','reduce spend','budget cut','budget cuts','cost cutting','partial','some licenses','half','portion','dont need','no longer need','not using','underutilized','unused','too many','overpaying','paying too much','right-size','rightsize','true-up','true up','switching','switch to','moving to','going with','competitor','alternative','replacing','discontinue','sunset','sunsetting','phase out','phasing out','winding down','layoffs','layoff','rif','restructuring','reorg','contraction approval','approve contraction','sfdc quote','arr reduction','arr decrease','give back','surrender','over-licensed','headcount','head count'],
unr:['unresponsive','non-responsive','nonresponsive','not responding','no response','havent heard','hasnt responded','no reply','not replying','wont reply','never replied','stopped replying','not getting back','wont get back','never got back','ghosting','ghosted','ghost','silent','radio silent','gone silent','went silent','dark','gone dark','went dark','going dark','mia','missing','disappeared','vanished','cant find','ignoring','ignored','avoiding','avoided','cant reach','cannot reach','unable to reach','unreachable','not available','unavailable','no communication','stopped communicating','not answering','wont answer','never answers','not picking up','email bounced','out of office','ooo','auto-reply','not reading emails','missed meeting','no show','no-show','noshow','didnt show','skipped meeting','cancelled meeting','canceled meeting','keeps rescheduling','wont schedule','wont meet','declined meeting','voicemail','straight to voicemail','weeks','days','month','waiting','been waiting','still waiting','long time','crickets','fallen off','off the radar','checked out','disengaged'],
dat:['data incident','data breach','breach','security incident','security breach','pii','personal data','sensitive data','confidential','disclosed','disclosure','exposed','exposure','leaked','leak','wrong customer','wrong account','wrong client','wrong company','wrong person','wrong recipient','wrong data','incorrect data','different customer','another customer','someone else','mixed up','mixup','cross-contamination','contaminated','showed another','shown another','saw another','displayed wrong','showing wrong','sent to wrong','sent wrong','wrong attachment','wrong file','wrong report','wrong email','accident','accidental','accidentally','by accident','mistake','mistakenly','error','oops','messed up','screwed up','unauthorized','shouldnt have seen','screen share','screenshare','demo','presentation','during call','while presenting','privacy','gdpr','compliance','soc 2','soc2','72 hours'],
pay:['non-payment','nonpayment','non payment','not paying','not paid','hasnt paid','havent paid','wont pay','refused to pay','cant pay','payment issue','payment problem','payment failed','payment declined','overdue','past due','late payment','behind on payment','delinquent','collections','collection','invoice','invoices','unpaid invoice','outstanding invoice','invoice dispute','unpaid','unpaid balance','outstanding','outstanding balance','amount due','amount owed','owes','owed','billing issue','billing problem','billing dispute','accounts receivable','ar','ar issue','finance issue','finance flagged','card declined','card expired','suspended','suspension','on hold','account hold','service suspended','non-payment list','npl','churn channel','arrears'],
aut:['auto-renewal','auto renewal','autorenewal','automatic renewal','auto-renew','auto renew','remove renewal','remove auto','cancel renewal','stop renewal','disable renewal','turn off renewal','opt out','opt-out','opting out','no auto','renewal clause','renewal terms','evergreen','evergreen clause','manual renewal','renew manually','30 day notice','60 day notice','90 day notice','vp approval','vp of cs'],
spt:['month-to-month','month to month','monthly contract','m2m','mtm','termination for convenience','tfc','cancel anytime','terminate anytime','special terms','custom terms','non-standard','nonstandard','custom contract','flexible terms','short term','shorter term','quarterly','6 month','3 month','90 day','pilot','trial','break clause','exit clause','escape clause','early termination','early exit','cancellation clause','billing frequency','quarterly billing','semi-annual','tiered pricing','volume discount','no commitment','no lock-in','cco','cco approval'],
msp:['msp','managed service','managed services','managed service provider','reseller','partner','channel partner','var','value added reseller','third party','third-party','3rd party','it provider','it company','it consultant','outsourced','outsourced it','managing their account','manages their account','someone else manages','licensed msp','unlicensed msp','msp license','msp licensing','not licensed','not certified','msp program','msp access','partner access','matt finlayson','50 seats','account termination'],
frc:['forecast','forecasting','forecasts','pipeline','nrr','net revenue retention','grr','arr','annual recurring','revenue forecast','tracker','excel tracker','forecast tracker','nrr tracker','spreadsheet','excel','green highlight','highlight green','friday call','friday forecast','weekly call','forecast call','by thursday','eod thursday','before friday','projection','projections','outlook','expected','movement','changes','delta','variance','accuracy','commit','committed','surprise','no surprises','surprise churn','$20k','20k','$50k','50k','slack mel','slack gabriela','huddle','churnzero','cz','system of record'],
acp:['account plan','account plans','success plan','at-risk','at risk','atrisk','high risk','risky','flagged','red flag','yellow flag','watch list','save plan','save strategy','rescue','rescue plan','saving','retention','retention plan','retain','keep the customer','risk plan','mitigation','risk mitigation','health plan','account health','health score','unhealthy','poor health','declining health','churn risk','prevent churn','likely to churn','going to churn','might churn','turnaround','turn around','recovery','action plan','renewal goal','save goal','expand goal','value realization','disengaged','low engagement','not engaged','low usage','no usage','underutilized','re-engage','reengage','120 days','$20k','20k'],
esc:['escalate','escalation','escalating','need to escalate','should i escalate','when to escalate','involve manager','involve leadership','get manager','need manager','manager help','leadership help','bring in manager','loop in manager','executive involvement','get mel','involve mel','escalate to mel','get gabriela','escalate to gabriela','customer wants manager','speak with manager','talk to manager','serious issue','critical issue','major issue','urgent','cant resolve','cannot resolve','unable to resolve','beyond my scope','outside my authority','above my pay grade','need approval','need authority','need exception','customer upset','customer angry','customer frustrated','unhappy customer','sentiment declining','getting worse','deteriorating','tried everything','at a loss','$20k','$30k','$50k','$100k','csm ownership','quarterback'],
ai:['ai','artificial intelligence','chatgpt','chat gpt','claude','gpt','llm','ai tool','ai tools','ai usage','using ai','use ai','granola','meeting notes','call notes','note taking','ai notes','ai summary','ai draft','draft email','ai email','ai writing','ai data','ai pii','paste into ai','share with ai','anonymize','anonymization','anonymized','ai disclosure','disclose ai','ai policy','ai approved','approved ai','personal ai','personal account','free account','company ai','enterprise ai','can i use ai','is it ok to'],
prs:['presentation','presenting','demo','demonstration','screen share','screenshare','share screen','sharing screen','epr','executive productivity review','productivity review','business review','qbr','health check','training','training session','walkthrough','walk through','super admin','superadmin','sa','sa access','log in as','login as','impersonate','impersonation','customer instance','their instance','their account','customer data','show their data','demo environment','demo instance','sales instance','sandbox','verify account','account id','close tabs','fresh login'],
cz:['churnzero','churn zero','cz','cz note','cz notes','note','notes','documentation','document','log','logging','account health','account health note','renewal overview','renewal update','leadership note','onboarding','onboarding note','epr note','training note','technical mitigation','support note','non-payment note','product feedback','productivity lab','reactivation','special contract','tag','tags','tagging','critical update','product feedback tag','value feedback','roadmap feedback','how often','note frequency','bi-weekly','biweekly','monthly','quarterly','share note','license pool','command center','which account'],
rol:['contact role','contact roles','contact type','role definition','primary contact','economic buyer','eb','budget holder','budget owner','decision maker','executive sponsor','sponsor','champion','end user','admin','administrator','billing contact','accounts payable','buying committee','stakeholder','meddic','update contacts','maintain contacts','salesforce contact','sf contact','who is the','quarterly review'],
cfi:['cross-functional','cross functional','incident coordination','incident response','product incident','engineering incident','support incident','outage','system outage','downtime','system down','system issue','platform issue','technical issue','bug','incident','production incident','p1','p2','sev 1','sev 2','customer communication','incident communication','notify customers','who communicates','who contacts','tam','signature','signature customer','named account','scaled account','working group','war room','incident overview','engineering','product','support','customer impact','affected customers','resolution','fix','workaround','eta'],
onc:['on-call','on call','oncall','after hours','afterhours','weekend','holiday','night','evening','outside hours','who to call','who do i call','emergency contact','urgent contact','leader on call','cs leader','rota','schedule','on-call schedule','pinned message','#csm_team','csm_team','#cx','#production_incidents','urgent','emergency','immediate','15 minutes','phone','call by phone','not slack','not email','backup','primary and backup'],
blk:['bulk uplift','uplift','price uplift','pricing uplift','bulk renewal','under 20k','below 20k','less than 20k','<20k','7%','seven percent','list price','ceiling','cap','direct customer','var customer','partner margin','15% off','excluded','already signed','no auto-renewal','scaled','revops','rev ops'],
rko:['rko','relationship kickoff','relationship kick-off','kick off','kickoff','kick-off','new customer','new account','new deal','just closed','recently closed','closed deal','closed won','handover','hand over','hand-over','handoff','hand off','hand-off','sales handover','sales handoff','transition from sales','post-sales','post sales','postsales','welcome call','intro call','introduction call','first call','initial call','onboarding kickoff','onboarding kick-off','kickoff call','kick-off call','kickoff meeting','kick-off meeting','kickoff deck','kick-off deck','ae handoff','ae handover','ae introduction','csm introduction','meet the csm','new logo','new business','$30k','30k','above 30k','over 30k']
};
const P={
ctr:{n:"Contraction Approval Process",u:"https://docs.google.com/document/d/13xqWkeNaZsAuwRpt4CdnvEe1sowXL7BVftOlwBhopp8/edit",
s:(c)=>{let s=[];const i=c.imp||0;
if(i<500)s.push("CSMs can approve contractions up to $500 - you can self-approve");
else if(i<20000)s.push("CS Managers approve $500-$20K - submit for manager approval");
else s.push("VP of CS approves >$20K - submit for VP approval");
s.push("Submit SFDC Quote with:");s.push({sub:"Previous ARR ‚Üí New ARR ‚Üí Change in ARR"});s.push({sub:"Previous year's cost per seat ‚Üí New cost per seat"});s.push({sub:"Previous seat count"});s.push({sub:"Any other applicable information"});return s;},
a:(c)=>{let a=[];const i=c.imp||0;
if(i>=50000)a.push({t:'d',h:'üö® MATERIAL LOSS (‚â•$50K)',m:["Slack Gabriela immediately: Customer name, change amount, context, help needed","Schedule 15-min huddle for mitigation/executive engagement/strategy","Also notify Mel"]});
else if(i>=20000)a.push({t:'w',h:'‚ö†Ô∏è SURPRISE LOSS (>$20K)',m:["Slack Mel immediately: Customer name, change amount, context, help needed"]});
return a;}},

aut:{n:"Auto-Renewal Terms",u:"https://docs.google.com/document/d/1b1QTddct0rHwCiGTEmwl0RmI6-KdKbVu6g_wHeMvtlk/edit",
s:(c)=>["APPROVAL AUTHORITY for removing auto-renewal:",{sub:"VP of CS approval required to remove auto-renewal clause"},{sub:"Document full business justification"},"Standard notice periods: 30, 60, or 90 days depending on contract","Evergreen clauses require special handling"],
a:()=>[{t:'w',h:'‚ö†Ô∏è VP APPROVAL REQUIRED',m:["Removing auto-renewal requires VP of CS approval","Document business justification thoroughly"]}]},

frc:{n:"Forecast Management Expectations",u:"https://docs.google.com/document/d/182kBfnVt1FGLhIN6H17XZYeq9x00li5baNoQR8n3JWM/edit",
s:(c)=>["Update forecast in Excel tracker DAILY (not just Thursday)","Any change must be highlighted in GREEN","ChurnZero is system of record - detailed context must be in CZ, not just Excel","All forecasts updated by EOD Thursday for Friday call","Be prepared to explain any movement during Friday's forecast call","Substantial movement should not surprise your manager"],
a:(c)=>{let a=[];const i=c.imp||0;
if(i>=50000)a.push({t:'d',h:'üö® ESCALATE ‚â•$50K CHANGE',m:["Slack Gabriela: Customer name, change amount, context, help needed","If necessary, schedule 15-min huddle"]});
else if(i>=20000)a.push({t:'w',h:'‚ö†Ô∏è ESCALATE >$20K CHANGE',m:["Slack Mel: Customer name, change amount, context, help needed"]});
return a;}},

acp:{n:"Account Plan Expectations",u:"https://docs.google.com/document/d/1NLm5VgIgTtsNrfMNvKs5rCg0ZfYrh_vr0hJk0I3s0NU/edit",
s:(c)=>{let s=[];const i=c.imp||0,d=c.dtr||999;
if(i>=20000&&d<=120)s.push("REQUIRED: Create/update Account Plan in ChurnZero (at-risk >$20K within 120 days)");
else if(d<=120)s.push("Recommended: Create Account Plan for this at-risk renewal");
else s.push("Optional: Create Account Plan to organize activities");
s.push("Goal Types:");s.push({sub:"Renewal - required for at-risk within 120 days"});s.push({sub:"Save - disengaged/at-risk outside 120 day window"});s.push({sub:"Expand - growth potential (with Sales)"});s.push({sub:"Value Realization - driving adoption/ROI"});
s.push("Each goal needs actionable Tasks assigned to correct owner (CSM, AE, leadership, support)");return s;},a:()=>[]},

esc:{n:"Escalation Policy",u:"https://docs.google.com/document/d/1b1QTddct0rHwCiGTEmwl0RmI6-KdKbVu6g_wHeMvtlk/edit",
s:(c)=>{const r=c.arr||0;return[
"PRE-ESCALATION CHECKLIST:",{sub:"‚úì Attempted resolution within my scope"},{sub:"‚úì Need authority only a leader can provide"},{sub:"‚úì Understand customer AND internal perspective"},{sub:"‚úì Can describe issue in under 90 seconds"},{sub:"‚úì Have a specific, actionable ask"},
"PHASE 1 - CSM Resolution:",{sub:"Collaborate with Product, Support, Implementation, Sales"},{sub:"Leverage standard resources, consult peers/manager"},{sub:"Document in ChurnZero (Account Health or Renewal Overview/Update notes)"},
"PHASE 2 - Manager Escalation: Create CZ task with:",{sub:"Overview (2-3 sentences)"},{sub:"Timeline: Key dates, commitments, events"},{sub:"Stakeholders: Customer roles, internal roles, blockers"},{sub:"Risk & Impact: Revenue at stake, churn probability"},{sub:"Recommended Plan: Actions with owners"},{sub:"Clear Ask: What, how, by when, why"},{sub:"Fully Drafted Email: Ready for leader to modify/send"},
r>=100000?"PHASE 3: ‚â•$100K ARR ‚Üí Escalate to Gabriela (keep Mel informed)":"PHASE 3: <$100K ARR ‚Üí Escalate to Mel",
"CSM OWNERSHIP IS NON-NEGOTIABLE: You remain quarterback throughout"];},
a:()=>[{t:'w',h:'üìã ESCALATION TRIGGERS',m:["Unresolved after internal collaboration","Customer requests manager involvement","Impacts multiple accounts or is a pattern","Requires policy/pricing exception","Sentiment deteriorating despite efforts"]}]},

unr:{n:"Unresponsive Customer Policy",u:"https://docs.google.com/document/d/1LKi70A29cg7xC0WlQDosMgoPAgeq0sDCDlVJ5WF3ve0/edit",
s:(c)=>{const r=c.arr||0;return[
"PHASE 1 - CSM Outreach to:",{sub:"Last contract signer"},{sub:"All commercial contacts (purchase, renewal, expansions)"},{sub:"All active solution admins"},
"Requirements:",{sub:"Minimum 2 emails to each contact, spaced 3-5 business days"},{sub:"Document ALL attempts in ChurnZero"},{sub:"Add solution admin to Salesforce if not already a contact"},
"If no response after emails:",{sub:"Phone call to last contract signer"},{sub:"Document call attempt via CZ Task"},
"If still no response:",{sub:"Create Account Health/Renewal Overview/Update note"},{sub:"Escalate to CS Manager via CZ task with email draft"},
"PHASE 2 - Manager sends 2 escalation emails:",{sub:"Reference prior CSM outreach"},{sub:"Emphasize importance + renewal date"},
"If no response after manager emails:",{sub:"CSM escalates to executive via CZ task with drafted email"},
r>=100000?"PHASE 3: ‚â•$100K ‚Üí Gabriela (keep Mel informed)":"PHASE 3: <$100K ‚Üí Mel"];},a:()=>[]},

dat:{n:"Data Incident SOP",u:"https://docs.google.com/document/d/1dWErWCTltQ4VV88OtdmymfE6SwQzfSEEtDif9FTahjQ/edit",
s:()=>["IMMEDIATE (Business Hours):",{sub:"Notify your manager and CS leadership immediately"},{sub:"Do NOT attempt to resolve or delete evidence yourself"},
"AFTER HOURS/WEEKEND/HOLIDAY:",{sub:"Contact on-call CS leader by PHONE immediately"},{sub:"Check pinned message in #csm_team for contact info"},{sub:"On-call leader alerts CS management and Security"},
"INTERNAL ESCALATION:",{sub:"CS management informs Security for investigation"},{sub:"Security determines if privacy/security incident occurred"},
"RESOLUTION:",{sub:"72 hours to contain, mitigate, and communicate if confirmed"},{sub:"Security determines if customer notification needed"},{sub:"CS leads customer communications"},
"DOCUMENTATION (Use Data Disclosure Template):",{sub:"Account Name of Data Shared (ARR, Renewal Date)"},{sub:"Account Name Data Disclosed To (ARR, Renewal Date)"},{sub:"Date, CS Owner, Status, Description"}],
a:()=>[{t:'d',h:'üö® CRITICAL: DATA INCIDENT',m:["Notify manager/CS leadership IMMEDIATELY","Do NOT resolve or delete evidence yourself","After hours: Call on-call leader (pinned in #csm_team)","Security has 72 hours to respond if confirmed"]}]},

pay:{n:"Non-Payment Approach",u:"https://docs.google.com/document/d/1lZEXI8XcLMq5wnaO9add6f_xr3dDaPQiSzwtD0WdAu8/edit",
s:()=>["Check Non-Payment Tracker (updated weekly from #churn channel)",
"Research before outreach:",{sub:"Autorenewal issues?"},{sub:"Pain points shared?"},{sub:"License overage?"},{sub:"Current usage?"},
"Use Non-Payment Template in ChurnZero for outreach",
"If discounts/concessions requested:",{sub:"Get manager approval first"},{sub:"Email finance@activtrak.com (CC manager)"},{sub:"Wait for finance approval"},
"Document in CZ Non-Payment List Details Note",
"Managers: Update Non-Payment spreadsheet with likelihood of payment"],a:()=>[]},

prs:{n:"Presentation Guidelines",u:"https://docs.google.com/document/d/1CwKOzkPqXJudraUs_n85CQci6DmT5zDVF6f-aF6L11Q/edit",
s:()=>["[PREFERRED] Customer logs in and screenshares their own instance",{sub:"Avoids data disclosures"},{sub:"Creates engagement"},{sub:"Develops customer muscle memory"},
"[ALTERNATIVE] Use Demo Environment (Sales Instance)",
"[IF NECESSARY] Super Admin - BEFORE sharing screen:",{sub:"Close ALL tabs in window"},{sub:"Execute NEW SA login to customer account"},{sub:"Click profile icon ‚Üí VERIFY Account ID matches"},{sub:"For impersonation: Get VERBAL confirmation first"}],
a:()=>[{t:'w',h:'‚ö†Ô∏è DATA PROTECTION',m:["Always verify Account ID before presenting","Preferred: Customer screenshares their own instance"]}]},

ai:{n:"AI Usage Policy",u:"https://docs.google.com/document/d/1MDEC3WHKz6DwmPUM-MGyW1vQ4EmfpyTy4p88TLugNJE/edit",
s:()=>["APPROVED USES:",{sub:"Draft emails, meeting summaries"},{sub:"Research customers"},{sub:"Account Plans, Success Plans"},{sub:"Analyze anonymized aggregate data"},{sub:"Granola (free version) for meeting notes"},
"NOT ALLOWED:",{sub:"Final unreviewed customer deliverables"},{sub:"Share PII without anonymization"},{sub:"Personal/free AI accounts"},{sub:"Store sensitive content outside approved systems"},
"DATA HANDLING:",{sub:"Anonymize data (remove names, emails, IDs, PII)"},{sub:"Never input API keys, credentials, agent-level data"},
"DISCLOSURE (if required):",{sub:"'ActivTrak uses enterprise AI tools to assist with note-taking, drafting, and analysis. All outputs are reviewed and verified before sharing.'"},
"AI NOTES: Always edit/verify before logging in CZ/SFDC"],
a:()=>[{t:'w',h:'‚ö†Ô∏è IF SENSITIVE INFO PASTED INTO AI',m:["Stop immediately","Notify your manager","Security initiates data incident process"]}]},

cz:{n:"ChurnZero Notes Policy",u:"https://docs.google.com/document/d/1wVIOItiYG5yAFqjkKuf-vLuutL8S0l59PcGwhctnaAo/edit",
s:()=>["NOTE TYPES:",{sub:"Leadership: Escalations, leadership-led calls"},{sub:"Non-Payment Details: Track payment status"},{sub:"Onboarding: RKO outcomes (share with AE)"},{sub:"EPR: Document EPR/REPO (share with AE, include deck)"},{sub:"Product Feedback: Feature feedback"},{sub:"Account Health: General health (see frequency below)"},{sub:"Renewal Overview: Create 120 days out, one per renewal"},{sub:"Renewal Update: Updates within 120 days (min monthly)"},{sub:"Technical Mitigation/Support: Tech issues, resolution"},
"ACCOUNT HEALTH FREQUENCY:",{sub:"$100K+ Growth: Bi-weekly minimum"},{sub:"$100K+ Retention: Monthly minimum"},{sub:"$30K+ Growth: Monthly minimum"},{sub:"$30K+ Retention: Quarterly minimum"},
"TAGS:",{sub:"Critical Update: Share with manager"},{sub:"Product Feedback: Share in product meeting"},{sub:"Value Feedback, 2026 Roadmap Feedback"},
"License Pool/Command Center: Put ALL notes on License Pool account"],a:()=>[]},

onc:{n:"CS Leader On-Call Policy",u:"https://docs.google.com/document/d/1vZlhzTO4qXVyNuSxCpigr8yKONGp3ktDmNKuUvskfnY/edit",
s:()=>["FIND ON-CALL LEADER:",{sub:"CS Leader On-Call Rota (source of truth)"},{sub:"Pinned message in #csm_team"},{sub:"Also in #cx and #production_incidents"},
"WHEN TO CONTACT:",{sub:"Data disclosures/incidents"},{sub:"Cross-functional coordination after hours"},{sub:"Other urgent matters"},{sub:"When in doubt, reach out"},
"CONTACT PROTOCOL:",{sub:"Contact by PHONE, not Slack/email"},{sub:"Expect response within 15 minutes"},
"IF DATA INCIDENT:",{sub:"On-call leader alerts VP of CS, CCO, and Security"}],
a:()=>[{t:'w',h:'üìû CONTACT PROTOCOL',m:["Contact by PHONE, not Slack/email","Expect 15-minute response","Rota pinned in #csm_team"]}]},

msp:{n:"MSP Licensing Policy",u:"https://docs.google.com/document/d/1SIsPnGkMrXHn4aCq0Fd0JIa5_WcsbOLlhshWgIjMNp0/edit",
s:()=>["CUSTOMER MUST MEET ONE:",{sub:"1. Licensed MSP in official program"},{sub:"2. Direct account management (no MSP)"},{sub:"3. Transition to licensed MSP"},
"NON-COMPLIANCE:",{sub:"Account suspension pending remediation"},{sub:"Account termination for breach"},
"DECISION AUTHORITY:",{sub:"Matt Finlayson owns termination decisions"},{sub:"50+ seats: Matt consults Eric and Gabriela"},
"TALKING POINTS:",{sub:"Unlicensed MSPs lack certification for proper management"},{sub:"Options: MSP joins program, manage direct, or switch to licensed MSP"},{sub:"Provide approved MSP partner list"}],a:()=>[]},

cfi:{n:"Cross-Functional Incident Policy",u:"https://docs.google.com/document/d/1AOkejfJWodE6IelwjVLEyrsg-8D9mbQBMKz8Ez2XHew/edit",
s:()=>["STEP 1 - Notification:",{sub:"Support/Engineering alerts CS"},{sub:"VP of CS (or on-call) joins incident Slack thread"},{sub:"Use Incident Overview Template"},
"STEP 2 - Information Gathering:",{sub:"What happened/is happening"},{sub:"Which customers affected"},{sub:"Support level, ARR, CSM, Renewal date, Primary Contact"},
"STEP 3 - Communication Plan:",{sub:"CS + Support + Engineering craft message"},{sub:"Signature ‚Üí TAM"},{sub:"Named ‚Üí CSM or Support"},{sub:"Scaled ‚Üí Support"},
"STEP 4 - Execute & Follow-Up:",{sub:"Deliver per plan, document in Slack/tracker"},{sub:"Post-incident review"}],a:()=>[]},

blk:{n:"Bulk Uplift Approach",u:"https://docs.google.com/document/d/1pGB39evnKazZfyq9V5RIikb-hIsb7f8IJICrGKhbAl8/edit",
s:()=>["INCLUDED: Accounts <$20K ARR",
"EXCLUDED:",{sub:"Already-signed renewals"},{sub:"No auto-renewal language"},
"DIRECT:",{sub:"Core product uplifted 7%"},{sub:"Ceiling: list price"},
"VAR:",{sub:"Same 7% logic"},{sub:"Ceiling: 15% off list (partner margin)"},
"RevOps handles notices; pushback ‚Üí Scaled CS"],a:()=>[]},

spt:{n:"Special Terms (CS Leadership Roles)",u:"https://docs.google.com/document/d/1b1QTddct0rHwCiGTEmwl0RmI6-KdKbVu6g_wHeMvtlk/edit",
s:()=>["APPROVAL AUTHORITY:",{sub:"CS Manager: Non-standard billing frequency"},{sub:"VP of CS: Remove auto-renewal, tiered pricing"},{sub:"CCO: Month-to-month, termination for convenience, other non-standard terms"},
"Document full business justification"],a:()=>[]},

rol:{n:"Contact Role Definitions",u:"https://docs.google.com/document/d/1JuJJL8hokldD4eBJE33NdFRLQ_jUlE81jzWHghTpAC0/edit",
s:()=>["CSMs maintain contact roles, review quarterly",
"ROLES:",{sub:"Primary Contact: Central communication, coordinates evaluation"},{sub:"Economic Buyer (EB): Budget authority, final approval (MEDDIC)"},{sub:"Executive Sponsor: Senior leader, top-down support"},{sub:"End User: Daily users (admins, managers)"},{sub:"Billing Contact: Handles invoices/payment"},{sub:"Buying Committee: Group evaluating collectively"},
"One contact can have multiple roles",
"Add to Salesforce if not already a contact"],a:()=>[]},

rko:{n:"Relationship Kickoff Procedure ($30K+)",u:"https://docs.google.com/document/d/1H-rHHPNdpF896iUGMBdoHEdyabSMoOuh-_vhB2k1ok0/edit?tab=t.0",
s:()=>["SCOPE: All new accounts with ARR ‚â•$30,000",
"STEP 1 - Sales Handover Email:",{sub:"AE sends intro email to customer after deal closes"},{sub:"Introduces CSM and Onboarding Manager"},{sub:"Requests availability for 45-min kickoff call"},
"STEP 2 - Schedule Kickoff Call:",{sub:"CSM schedules 45-min call within first week of contract signing"},{sub:"Attendees: Customer stakeholders, CSM (facilitator), CS Manager, Onboarding Manager, Solutions Architect, AE (optional)"},
"STEP 3 - Prepare Kickoff Deck:",{sub:"CSM creates deck using RKO template"},{sub:"Save in Customer Folder in Customer Files drive"},{sub:"CSM completes slides 1 & 3"},{sub:"AE completes slides 4 & 6"},{sub:"Deck must be completed 24h before call"},
"STEP 4 - Run Kickoff Call:",{sub:"CSM facilitates the call"},{sub:"Agenda: Introductions, customer goals, pre-sales recap, onboarding overview, communication cadence, Q&A"},
"STEP 5 - Handover to Onboarding:",{sub:"CSM formally transitions customer to Onboarding Manager for implementation"}],
a:()=>[{t:'w',h:'üìã RKO CHECKLIST',m:["Schedule within 1 week of close","Deck ready 24h before call","AE completes their slides (4 & 6)","CSM completes slides 1 & 3"]}]}
};
const M={ctr:['ctr','frc','acp','esc'],unr:['unr','esc'],dat:['dat','onc'],pay:['pay'],esc:['esc'],ai:['ai'],prs:['prs','dat'],cz:['cz'],onc:['onc','dat'],msp:['msp'],frc:['frc'],acp:['acp'],cfi:['cfi','onc'],blk:['blk'],spt:['spt'],rol:['rol'],aut:['aut','spt'],rko:['rko','cz']};
function mtch(q,kws){const l=q.toLowerCase();for(const k of kws)if(l.includes(k))return true;return false;}
function analyze(q,ctx){
let matched=[];
for(const[k,kws]of Object.entries(K)){if(mtch(q,kws)){const pols=M[k]||[k];pols.forEach(p=>{if(!matched.includes(p))matched.push(p);});}}
if(matched.length===0)return{policies:[],alerts:[]};
let policies=[],alerts=[];
matched.forEach(k=>{const p=P[k];if(p){policies.push({name:p.n,url:p.u,steps:p.s(ctx)});const a=p.a(ctx);if(a.length)alerts=alerts.concat(a);}});
return{policies,alerts};
}
function render(r){
const out=document.getElementById('out');
if(r.policies.length===0){out.innerHTML='<p style="color:var(--g500)">No specific policy match. Try: contraction, unresponsive, data incident, escalation, notes, on-call, forecasting, account plan</p>';document.getElementById('res').classList.add('show');return;}
let html='';
r.alerts.forEach(a=>{html+=`<div class="alrt alrt-${a.t==='d'?'d':'w'}"><h4>${a.h}</h4>${a.m.map(m=>`<p>‚Ä¢ ${m}</p>`).join('')}</div>`;});
r.policies.forEach(p=>{
let num=0;
const stepsHtml=p.steps.map(s=>{
if(typeof s==='object'&&s.sub)return`<li><span class="stp-n sub">‚Ä¢</span><span class="stp-t sub">${s.sub}</span></li>`;
num++;return`<li><span class="stp-n">${num}</span><span class="stp-t">${s}</span></li>`;
}).join('');
html+=`<div class="pol-sec"><h4>üìã ${p.name}<a href="${p.url}" target="_blank">Open Doc ‚Üí</a></h4><ol class="stp-lst">${stepsHtml}</ol></div>`;
});
out.innerHTML=html;document.getElementById('res').classList.add('show');document.getElementById('res').scrollIntoView({behavior:'smooth'});
}
document.querySelectorAll('.tab').forEach(t=>t.addEventListener('click',()=>{document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));document.querySelectorAll('.tc').forEach(x=>x.classList.remove('active'));t.classList.add('active');document.getElementById(t.dataset.tab).classList.add('active');}));
document.getElementById('ctxTog').addEventListener('click',function(){const f=document.getElementById('ctxFlds');f.classList.toggle('show');this.textContent=f.classList.contains('show')?'‚àí Hide context':'+ Add context (ARR, impact, etc.)';});
document.querySelectorAll('.ex-btn').forEach(b=>b.addEventListener('click',()=>document.getElementById('q').value=b.textContent));
document.getElementById('sub').addEventListener('click',()=>{const q=document.getElementById('q').value.trim();if(!q)return;const ctx={arr:parseFloat(document.getElementById('arr').value)||0,imp:parseFloat(document.getElementById('imp').value)||0,dtr:parseFloat(document.getElementById('dtr').value)||999};render(analyze(q,ctx));});
document.getElementById('q').addEventListener('keydown',e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();document.getElementById('sub').click();}});
</script>
</body>
</html>
